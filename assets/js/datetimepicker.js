!function(e){"use strict";"function"==typeof define&&define.amd?define(["angular","moment"],e):"object"==typeof exports?module.exports=e(require("angular"),require("moment")):e(window.angular,window.moment)}(function(e,t){"use strict";function n(n,r){function o(a,o,s){function p(e,t,n){if(n&&(n.stopPropagation(),n.preventDefault()),e&&t.utcDateValue>-(1/0)&&t.selectable&&c[e]){var r=c[e](t.utcDateValue),o=[];if(r.weeks)for(var i=0;i<r.weeks.length;i+=1)for(var s=r.weeks[i],u=0;u<s.dates.length;u+=1){var l=s.dates[u];o.push(l)}a.beforeRender({$view:r.currentView,$dates:r.dates||o,$leftDate:r.leftDate,$upDate:r.previousViewDate,$rightDate:r.rightDate}),a.data=r}}function d(e){for(var n=t.utc(e).startOf("year"),r=10*parseInt(n.year()/10,10),a=t.utc(w(e)).subtract(1,"year").startOf("year"),o=O(u.$modelValue,"YYYY"),s={currentView:"year",nextView:"year"===l.minView?"setTime":"month",previousViewDate:new i({utcDateValue:null,display:r+"-"+(r+9)}),leftDate:new i({utcDateValue:t.utc(a).subtract(9,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(a).add(11,"year").valueOf()}),dates:[]},c=0;12>c;c+=1){var p=t.utc(a).add(c,"years"),d={utcDateValue:p.valueOf(),display:p.format("YYYY"),past:p.year()<r,future:p.year()>r+9,active:p.format("YYYY")===o};s.dates.push(new i(d))}return s}function f(e){for(var n=t.utc(e).startOf("year"),r=w(e),a=O(u.$modelValue,"YYYY-MMM"),o={previousView:"year",currentView:"month",nextView:"month"===l.minView?"setTime":"day",previousViewDate:new i({utcDateValue:r.valueOf(),display:n.format("YYYY")}),leftDate:new i({utcDateValue:t.utc(n).subtract(1,"year").valueOf()}),rightDate:new i({utcDateValue:t.utc(n).add(1,"year").valueOf()}),dates:[]},s=0;12>s;s+=1){var c=t.utc(n).add(s,"months"),p={utcDateValue:c.valueOf(),display:c.format("MMM"),active:c.format("YYYY-MMM")===a};o.dates.push(new i(p))}return o}function v(e){for(var n=t.utc(e),r=t.utc(n).startOf("month"),a=t.utc(n).startOf("year"),o=t.utc(n).endOf("month"),s=t.utc(r).subtract(Math.abs(r.weekday()),"days"),c=O(u.$modelValue,"YYYY-MMM-DD"),p={previousView:"month",currentView:"day",nextView:"day"===l.minView?"setTime":"hour",previousViewDate:new i({utcDateValue:a.valueOf(),display:r.format("YYYY-MMM")}),leftDate:new i({utcDateValue:t.utc(r).subtract(1,"months").valueOf()}),rightDate:new i({utcDateValue:t.utc(r).add(1,"months").valueOf()}),dayNames:[],weeks:[]},d=0;7>d;d+=1)p.dayNames.push(t.utc().weekday(d).format("dd"));for(var f=0;6>f;f+=1){for(var v={dates:[]},g=0;7>g;g+=1){var m=t.utc(s).add(7*f+g,"days"),h={utcDateValue:m.valueOf(),display:m.format("D"),active:m.format("YYYY-MMM-DD")===c,past:m.isBefore(r),future:m.isAfter(o)};v.dates.push(new i(h))}p.weeks.push(v)}return p}function g(e){for(var n=t.utc(e).startOf("day"),r=t.utc(n).startOf("month"),a=O(u.$modelValue,"YYYY-MM-DD H"),o={previousView:"day",currentView:"hour",nextView:"hour"===l.minView?"setTime":"minute",previousViewDate:new i({utcDateValue:r.valueOf(),display:n.format("ll")}),leftDate:new i({utcDateValue:t.utc(n).subtract(1,"days").valueOf()}),rightDate:new i({utcDateValue:t.utc(n).add(1,"days").valueOf()}),dates:[]},s=0;24>s;s+=1){var c=t.utc(n).add(s,"hours"),p={utcDateValue:c.valueOf(),display:c.format("LT"),active:c.format("YYYY-MM-DD H")===a};o.dates.push(new i(p))}return o}function m(e){for(var n=t.utc(e).startOf("hour"),r=t.utc(n).startOf("day"),a=O(u.$modelValue,"YYYY-MM-DD H:mm"),o={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new i({utcDateValue:r.valueOf(),display:n.format("lll")}),leftDate:new i({utcDateValue:t.utc(n).subtract(1,"hours").valueOf()}),rightDate:new i({utcDateValue:t.utc(n).add(1,"hours").valueOf()}),dates:[]},s=60/l.minuteStep,c=0;s>c;c+=1){var p=t.utc(n).add(c*l.minuteStep,"minute"),d={utcDateValue:p.valueOf(),display:p.format("LT"),active:p.format("YYYY-MM-DD H:mm")===a};o.dates.push(new i(d))}return o}function h(e){var n=new Date(e),r=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds());switch(l.modelType){case"Date":break;case"moment":r=t(r);break;case"milliseconds":r=e;break;default:r=t(r).format(l.modelType)}var o=u.$modelValue;return u.$setViewValue(r),l.dropdownSelector&&jQuery(l.dropdownSelector).dropdown("toggle"),a.onSetTime({newDate:r,oldDate:o}),c[l.startView](e)}function y(){a.changeView(l.startView,new i({utcDateValue:M(u.$viewValue)}))}function w(e){var n=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(n).startOf("year")}function O(e,t){return e?b(e).format(t):""}function b(n){return t(n,e.isString(n)?l.parseFormat:void 0)}function M(e){var t=new Date;if(e){var n=b(e);if(!n.isValid())throw"Invalid date: "+e;t=n.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}function k(){var t={};s.datetimepickerConfig&&(t=a.$parent.$eval(s.datetimepickerConfig));var o=e.extend({},n,t);return r.validate(o),o}var u=o.controller("ngModel"),l=k();a.screenReader=l.screenReader,a.changeView=p,u.$render=y,l.configureOn&&a.$on(l.configureOn,function(){l=k(),a.screenReader=l.screenReader,u.$render()}),l.renderOn&&a.$on(l.renderOn,u.$render);var c={year:d,month:f,day:v,hour:g,minute:m,setTime:h}}function i(){var e=new Date,t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var n=["utcDateValue","localDateValue","display","active","selectable","past","future"];for(var r in arguments[0])n.indexOf(r)>=0&&(this[r]=arguments[0][r])}var a={bindToController:!1,controller:o,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};return o.$inject=["$scope","$element","$attrs"],a}function r(){var n={configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},r={bg:{previous:"предишна",next:"следваща"},ca:{previous:"anterior",next:"següent"},da:{previous:"forrige",next:"næste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrás",next:"siguiente"},es:{previous:"atrás",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"précédent",next:"suivant"},hu:{previous:"előző",next:"következő"},it:{previous:"precedente",next:"successivo"},ja:{previous:"前へ",next:"次へ"},ml:{previous:"മുൻപുള്ളത്",next:"അടുത്തത്"},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"następna"},"pt-br":{previous:"anteriores",next:"próximos"},pt:{previous:"anterior",next:"próximo"},ro:{previous:"anterior",next:"următor"},ru:{previous:"предыдущая",next:"следующая"},sk:{previous:"predošlá",next:"ďalšia"},sv:{previous:"föregående",next:"nästa"},tr:{previous:"önceki",next:"sonraki"},uk:{previous:"назад",next:"далі"},"zh-cn":{previous:"上一页",next:"下一页"},"zh-tw":{previous:"上一頁",next:"下一頁"}},a=r[t.locale().toLowerCase()];return e.extend({},n,{screenReader:a})}function a(t){function n(n){var r=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"];for(var a in n)if(r.indexOf(a)<0)throw"invalid option: "+a;var o=["minute","hour","day","month","year"];if(o.indexOf(n.startView)<0)throw"invalid startView value: "+n.startView;if(o.indexOf(n.minView)<0)throw"invalid minView value: "+n.minView;if(o.indexOf(n.minView)>o.indexOf(n.startView))throw"startView must be greater than minView";if(!e.isNumber(n.minuteStep))throw"minuteStep must be numeric";if(n.minuteStep<=0||n.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==n.configureOn&&!e.isString(n.configureOn))throw"configureOn must be a string";if(null!==n.configureOn&&n.configureOn.length<1)throw"configureOn must not be an empty string";if(null!==n.renderOn&&!e.isString(n.renderOn))throw"renderOn must be a string";if(null!==n.renderOn&&n.renderOn.length<1)throw"renderOn must not be an empty string";if(null!==n.modelType&&!e.isString(n.modelType))throw"modelType must be a string";if(null!==n.modelType&&n.modelType.length<1)throw"modelType must not be an empty string";if("Date"!==n.modelType&&"moment"!==n.modelType&&"milliseconds"!==n.modelType&&(n.parseFormat=n.modelType),null!==n.dropdownSelector&&!e.isString(n.dropdownSelector))throw"dropdownSelector must be a string";null===n.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(t.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete n.dropdownSelector)}return{validate:n}}e.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",r).service("dateTimePickerValidator",a).directive("datetimepicker",n),n.$inject=["dateTimePickerConfig","dateTimePickerValidator"],a.$inject=["$log"]});